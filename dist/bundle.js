!function(t){var e=window.webpackHotUpdate;window.webpackHotUpdate=function(t,o){!function(t,e){if(!x[t]||!g[t])return;for(var o in g[t]=!1,e)Object.prototype.hasOwnProperty.call(e,o)&&(f[o]=e[o]);0==--y&&0===m&&C()}(t,o),e&&e(t,o)};var o,n=!0,i="319eb876eae39517af62",r={},s=[],a=[];function c(t){var e=j[t];if(!e)return A;var n=function(n){return e.hot.active?(j[n]?-1===j[n].parents.indexOf(t)&&j[n].parents.push(t):(s=[t],o=n),-1===e.children.indexOf(n)&&e.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+t),s=[]),A(n)},i=function(t){return{configurable:!0,enumerable:!0,get:function(){return A[t]},set:function(e){A[t]=e}}};for(var r in A)Object.prototype.hasOwnProperty.call(A,r)&&"e"!==r&&"t"!==r&&Object.defineProperty(n,r,i(r));return n.e=function(t){return"ready"===h&&p("prepare"),m++,A.e(t).then(e,(function(t){throw e(),t}));function e(){m--,"prepare"===h&&(b[t]||B(t),0===m&&0===y&&C())}},n.t=function(t,e){return 1&e&&(t=n(t)),A.t(t,-2&e)},n}function u(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(t,e){if(void 0===t)n._selfAccepted=!0;else if("function"==typeof t)n._selfAccepted=t;else if("object"==typeof t)for(var o=0;o<t.length;o++)n._acceptedDependencies[t[o]]=e||function(){};else n._acceptedDependencies[t]=e||function(){}},decline:function(t){if(void 0===t)n._selfDeclined=!0;else if("object"==typeof t)for(var e=0;e<t.length;e++)n._declinedDependencies[t[e]]=!0;else n._declinedDependencies[t]=!0},dispose:function(t){n._disposeHandlers.push(t)},addDisposeHandler:function(t){n._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=n._disposeHandlers.indexOf(t);e>=0&&n._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,h){case"idle":(f={})[e]=t[e],p("ready");break;case"ready":M(e);break;case"prepare":case"check":case"dispose":case"apply":(v=v||[]).push(e)}},check:P,apply:S,status:function(t){if(!t)return h;l.push(t)},addStatusHandler:function(t){l.push(t)},removeStatusHandler:function(t){var e=l.indexOf(t);e>=0&&l.splice(e,1)},data:r[e]};return o=void 0,n}var l=[],h="idle";function p(t){h=t;for(var e=0;e<l.length;e++)l[e].call(null,t)}var d,f,_,v,y=0,m=0,b={},g={},x={};function w(t){return+t+""===t?+t:t}function P(t){if("idle"!==h)throw new Error("check() is only allowed in idle status");return n=t,p("check"),(e=1e4,e=e||1e4,new Promise((function(t,o){if("undefined"==typeof XMLHttpRequest)return o(new Error("No browser support"));try{var n=new XMLHttpRequest,r=A.p+""+i+".hot-update.json";n.open("GET",r,!0),n.timeout=e,n.send(null)}catch(t){return o(t)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)o(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)o(new Error("Manifest request to "+r+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(t){return void o(t)}t(e)}}}))).then((function(t){if(!t)return p(O()?"ready":"idle"),null;g={},b={},x=t.c,_=t.h,p("prepare");var e=new Promise((function(t,e){d={resolve:t,reject:e}}));f={};return B(0),"prepare"===h&&0===m&&0===y&&C(),e}));var e}function B(t){x[t]?(g[t]=!0,y++,function(t){var e=document.createElement("script");e.charset="utf-8",e.src=A.p+""+t+"."+i+".hot-update.js",document.head.appendChild(e)}(t)):b[t]=!0}function C(){p("ready");var t=d;if(d=null,t)if(n)Promise.resolve().then((function(){return S(n)})).then((function(e){t.resolve(e)}),(function(e){t.reject(e)}));else{var e=[];for(var o in f)Object.prototype.hasOwnProperty.call(f,o)&&e.push(w(o));t.resolve(e)}}function S(e){if("ready"!==h)throw new Error("apply() is only allowed in ready status");return function e(n){var a,c,u,l,h;function d(t){for(var e=[t],o={},n=e.map((function(t){return{chain:[t],id:t}}));n.length>0;){var i=n.pop(),r=i.id,s=i.chain;if((l=j[r])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:r};if(l.hot._main)return{type:"unaccepted",chain:s,moduleId:r};for(var a=0;a<l.parents.length;a++){var c=l.parents[a],u=j[c];if(u){if(u.hot._declinedDependencies[r])return{type:"declined",chain:s.concat([c]),moduleId:r,parentId:c};-1===e.indexOf(c)&&(u.hot._acceptedDependencies[r]?(o[c]||(o[c]=[]),y(o[c],[r])):(delete o[c],e.push(c),n.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:o}}function y(t,e){for(var o=0;o<e.length;o++){var n=e[o];-1===t.indexOf(n)&&t.push(n)}}O();var m={},b=[],g={},P=function(){console.warn("[HMR] unexpected require("+C.moduleId+") to disposed module")};for(var B in f)if(Object.prototype.hasOwnProperty.call(f,B)){var C;h=w(B),C=f[B]?d(h):{type:"disposed",moduleId:B};var S=!1,M=!1,T=!1,k="";switch(C.chain&&(k="\nUpdate propagation: "+C.chain.join(" -> ")),C.type){case"self-declined":n.onDeclined&&n.onDeclined(C),n.ignoreDeclined||(S=new Error("Aborted because of self decline: "+C.moduleId+k));break;case"declined":n.onDeclined&&n.onDeclined(C),n.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+C.moduleId+" in "+C.parentId+k));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(C),n.ignoreUnaccepted||(S=new Error("Aborted because "+h+" is not accepted"+k));break;case"accepted":n.onAccepted&&n.onAccepted(C),M=!0;break;case"disposed":n.onDisposed&&n.onDisposed(C),T=!0;break;default:throw new Error("Unexception type "+C.type)}if(S)return p("abort"),Promise.reject(S);if(M)for(h in g[h]=f[h],y(b,C.outdatedModules),C.outdatedDependencies)Object.prototype.hasOwnProperty.call(C.outdatedDependencies,h)&&(m[h]||(m[h]=[]),y(m[h],C.outdatedDependencies[h]));T&&(y(b,[C.moduleId]),g[h]=P)}var I,G=[];for(c=0;c<b.length;c++)h=b[c],j[h]&&j[h].hot._selfAccepted&&g[h]!==P&&!j[h].hot._selfInvalidated&&G.push({module:h,parents:j[h].parents.slice(),errorHandler:j[h].hot._selfAccepted});p("dispose"),Object.keys(x).forEach((function(t){!1===x[t]&&function(t){delete installedChunks[t]}(t)}));var V,H,D=b.slice();for(;D.length>0;)if(h=D.pop(),l=j[h]){var E={},L=l.hot._disposeHandlers;for(u=0;u<L.length;u++)(a=L[u])(E);for(r[h]=E,l.hot.active=!1,delete j[h],delete m[h],u=0;u<l.children.length;u++){var W=j[l.children[u]];W&&((I=W.parents.indexOf(h))>=0&&W.parents.splice(I,1))}}for(h in m)if(Object.prototype.hasOwnProperty.call(m,h)&&(l=j[h]))for(H=m[h],u=0;u<H.length;u++)V=H[u],(I=l.children.indexOf(V))>=0&&l.children.splice(I,1);p("apply"),void 0!==_&&(i=_,_=void 0);for(h in f=void 0,g)Object.prototype.hasOwnProperty.call(g,h)&&(t[h]=g[h]);var F=null;for(h in m)if(Object.prototype.hasOwnProperty.call(m,h)&&(l=j[h])){H=m[h];var z=[];for(c=0;c<H.length;c++)if(V=H[c],a=l.hot._acceptedDependencies[V]){if(-1!==z.indexOf(a))continue;z.push(a)}for(c=0;c<z.length;c++){a=z[c];try{a(H)}catch(t){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:h,dependencyId:H[c],error:t}),n.ignoreErrored||F||(F=t)}}}for(c=0;c<G.length;c++){var U=G[c];h=U.module,s=U.parents,o=h;try{A(h)}catch(t){if("function"==typeof U.errorHandler)try{U.errorHandler(t)}catch(e){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:h,error:e,originalError:t}),n.ignoreErrored||F||(F=e),F||(F=t)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:h,error:t}),n.ignoreErrored||F||(F=t)}}if(F)return p("fail"),Promise.reject(F);if(v)return e(n).then((function(t){return b.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t}));return p("idle"),new Promise((function(t){t(b)}))}(e=e||{})}function O(){if(v)return f||(f={}),v.forEach(M),v=void 0,!0}function M(e){Object.prototype.hasOwnProperty.call(f,e)||(f[e]=t[e])}var j={};function A(e){if(j[e])return j[e].exports;var o=j[e]={i:e,l:!1,exports:{},hot:u(e),parents:(a=s,s=[],a),children:[]};return t[e].call(o.exports,o,o.exports,c(e)),o.l=!0,o.exports}A.m=t,A.c=j,A.d=function(t,e,o){A.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},A.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},A.t=function(t,e){if(1&e&&(t=A(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(A.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)A.d(o,n,function(e){return t[e]}.bind(null,n));return o},A.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return A.d(e,"a",e),e},A.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},A.p="",A.h=function(){return i},c(49)(A.s=49)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameConfig=void 0;const n=o(29);e.GameConfig={gameSize:{x:1500,y:825},soundOn:!0,timeoutToHideStickAfterShot:500,timeoutToHideBallAfterPocket:100,loadingScreenTimeout:5e3,loadingScreenImagePosition:{x:450,y:112.5},timeoutToLoadSubMenu:100,labels:{currentPlayer:{position:{x:640,y:260},color:"#126736",font:"70px Impact",alignment:"top",text:"PLAYER "},overalScores:[{position:{x:628,y:460},color:"#126736",font:"200px Impact",alignment:"top"},{position:{x:778,y:460},color:"#126736",font:"200px Impact",alignment:"top"}]},redBallsPositions:[{x:1056,y:433},{x:1090,y:374},{x:1126,y:393},{x:1126,y:472},{x:1162,y:335},{x:1162,y:374},{x:1162,y:452}],yellowBallsPositions:[{x:1022,y:413},{x:1056,y:393},{x:1090,y:452},{x:1126,y:354},{x:1126,y:433},{x:1162,y:413},{x:1162,y:491}],cueBallPosition:{x:413,y:413},eightBallPosition:{x:1090,y:413},matchScore:{scoresPositions:[{x:420,y:27},{x:932,y:27}],unitMargin:20},sprites:{basePath:"assets/sprites/",paths:{menuBackground:"main_menu_background.png",table:"spr_background4.png",cueBall:"spr_ball2.png",redBall:"spr_redBall2.png",yellowBall:"spr_yellowBall2.png",blackBall:"spr_blackBall2.png",stick:"spr_stick.png",twoPlayersButton:"2_players_button.png",twoPlayersButtonHovered:"2_players_button_hover.png",onePlayerButton:"1_player_button.png",onePlayerButtonHovered:"1_player_button_hover.png",muteButton:"mute_button.png",muteButtonHovered:"mute_button_hover.png",muteButtonPressed:"mute_button_pressed.png",muteButtonPressedHovered:"mute_button_pressed_hover.png",easyButton:"easy_button.png",easyButtonHovered:"easy_button_hover.png",mediumButton:"medium_button.png",mediumButtonHovered:"medium_button_hover.png",hardButton:"hard_button.png",hardButtonHovered:"hard_button_hover.png",backButton:"back_button.png",backButtonHovered:"back_button_hover.png",continueButton:"continue_button.png",continueButtonHovered:"continue_button_hover.png",insaneButton:"insane_button.png",insaneButtonHovered:"insane_button_hover.png",controls:"controls.png",redScore:"red_score.png",yellowScore:"yellow_score.png"}},sounds:{basePath:"assets/sounds/",paths:{ballsCollide:"BallsCollide.wav",strike:"Strike.wav",rail:"Hole.wav"}},physics:{friction:.0108,collisionLoss:.018},table:{cushionWidth:57,pocketRadius:48,pocketsPositions:[{x:62,y:62},{x:750,y:32},{x:1435,y:62},{x:62,y:762},{x:750,y:794},{x:1435,y:762}]},ball:{diameter:38,origin:{x:25,y:25},minVelocityLength:.05,maxExpectedVelocity:120,maxExpectedCollisionForce:70},stick:{origin:{x:970,y:11},shotOrigin:{x:950,y:11},powerToAddPerFrame:1,movementPerFrame:3,maxPower:50},input:{mouseSelectButton:0,mouseShootButton:0,mousePlaceBallButton:0,increaseShotPowerKey:87,decreaseShotPowerKey:83,toggleMenuKey:27},mainMenu:{labels:[{text:"Classic 8-Ball",position:{x:200,y:100},font:"100px Bookman",color:"white",alignment:"left"},{text:`© ${(new Date).getFullYear()} Chen Shmilovich`,position:{x:1250,y:800},font:"20px Bookman",color:"white",alignment:"left"}],buttons:[{action:n.MenuActionType.PVP,position:{x:200,y:200},sprite:"twoPlayersButton",spriteOnHover:"twoPlayersButtonHovered"},{action:n.MenuActionType.GoToSubMenu,value:0,position:{x:200,y:400},sprite:"onePlayerButton",spriteOnHover:"onePlayerButtonHovered"},{action:n.MenuActionType.ToggleSound,position:{x:1430,y:10},sprite:"muteButton",spriteOnHover:"muteButtonHovered"}],subMenus:[{labels:[{text:"Choose Difficulty",position:{x:200,y:80},font:"70px Bookman",color:"white",alignment:"left"},{text:`© ${(new Date).getFullYear()} Chen Shmilovich`,position:{x:1250,y:800},font:"20px Bookman",color:"white",alignment:"left"}],buttons:[{action:n.MenuActionType.GoToPreviousMenu,position:{x:100,y:150},sprite:"backButton",spriteOnHover:"backButtonHovered"},{action:n.MenuActionType.PVC,position:{x:200,y:150},value:30,sprite:"easyButton",spriteOnHover:"easyButtonHovered"},{action:n.MenuActionType.PVC,position:{x:200,y:300},value:50,sprite:"mediumButton",spriteOnHover:"mediumButtonHovered"},{action:n.MenuActionType.PVC,position:{x:200,y:450},value:100,sprite:"hardButton",spriteOnHover:"hardButtonHovered"},{action:n.MenuActionType.PVC,position:{x:200,y:600},value:700,sprite:"insaneButton",spriteOnHover:"insaneButtonHovered"},{action:n.MenuActionType.ToggleSound,position:{x:1430,y:10},sprite:"muteButton",spriteOnHover:"muteButtonHovered"}],subMenus:[]}]},cursor:{default:"default",button:"pointer"},ai:{on:!0,trainIterations:30,playerIndex:1,ballDistanceBonus:1/5800,validTurnBonus:5e3,pocketedBallBonus:2e3,invalidTurnPenalty:3e3,gameWonBonus:5e4,gameLossPenalty:5e4,shotPowerMutationVariance:15,minShotPower:10}}},function(t,e,o){var n=o(32),i="object"==typeof self&&self&&self.Object===Object&&self,r=n||i||Function("return this")();t.exports=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas2D=void 0;const n=o(0),i=o(4);const r=document.getElementById("screen"),s=document.getElementById("gameArea");e.Canvas2D=new class{constructor(t,e){this._canvasContainer=e,this._canvas=t,this._context=this._canvas.getContext("2d"),this.resizeCanvas()}get scaleX(){return this._scale.x}get scaleY(){return this._scale.y}get offsetX(){return this._offset.x}get offsetY(){return this._offset.y}resizeCanvas(){const t=n.GameConfig.gameSize.x,e=n.GameConfig.gameSize.y,o=t/e;let r=window.innerHeight,s=window.innerWidth;s/r>o?s=r*o:r=s/o,this._canvasContainer.style.width=s+"px",this._canvasContainer.style.height=r+"px",this._canvasContainer.style.marginTop=(window.innerHeight-r)/2+"px",this._canvasContainer.style.marginLeft=(window.innerWidth-s)/2+"px",this._canvasContainer.style.marginBottom=(window.innerHeight-r)/2+"px",this._canvasContainer.style.marginRight=(window.innerWidth-s)/2+"px",this._scale=new i.Vector2(s/t,r/e),this._canvas.width=s,this._canvas.height=r,this._canvas.offsetParent&&(this._offset=new i.Vector2(this._canvas.offsetLeft,this._canvas.offsetTop))}clear(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}drawImage(t,e={x:0,y:0},o=0,n={x:0,y:0}){this._context.save(),this._context.scale(this._scale.x,this._scale.y),this._context.translate(e.x,e.y),this._context.rotate(o),this._context.drawImage(t,0,0,t.width,t.height,-n.x,-n.y,t.width,t.height),this._context.restore()}drawText(t,e,o,n,i="left"){this._context.save(),this._context.scale(this._scale.x,this._scale.y),this._context.fillStyle=o,this._context.font=e,this._context.textAlign=i,this._context.fillText(t,n.x,n.y),this._context.restore()}changeCursor(t){this._canvas.style.cursor=t}}(r,s),window.addEventListener("resize",e.Canvas2D.resizeCanvas.bind(e.Canvas2D))},function(t,e,o){var n=o(65),i=o(71);t.exports=function(t,e){var o=i(t,e);return n(o)?o:void 0}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector2=void 0;class n{constructor(t,e){this._x=t,this._y=e}get x(){return this._x}get y(){return this._y}static get zero(){return new n(0,0)}get length(){return Math.sqrt(Math.pow(this._x,2)+Math.pow(this._y,2))}static copy(t){return new n(t.x,t.y)}addX(t){return new n(this._x,this._y).addToX(t)}addY(t){return new n(this._x,this._y).addToY(t)}addToX(t){return this._x+=t,this}addToY(t){return this._y+=t,this}addTo(t){return this.addToX(t.x).addToY(t.y)}add(t){return new n(this._x,this._y).addTo(t)}subtractTo(t){return this._x-=t.x,this._y-=t.y,this}subtract(t){return new n(this._x,this._y).subtractTo(t)}mult(t){return new n(this._x,this._y).multBy(t)}multBy(t){return this._x*=t,this._y*=t,this}dot(t){return this._x*t.x+this._y*t.y}distFrom(t){return this.subtract(t).length}}e.Vector2=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Assets=void 0;const n=o(0),i=n.GameConfig.sprites,r=n.GameConfig.sounds;e.Assets=new class{constructor(){this._sprites=new Map,this._sounds=new Map}loadSprite(t){const e=new Image;return this._sprites.set(t,e),new Promise(o=>{e.onload=()=>o(),e.src=i.basePath+t})}async loadGameSprites(){const t=Object.values(i.paths).map(this.loadSprite.bind(this));await Promise.all(t)}loadSound(t){const e=new Audio(r.basePath+t);return this._sounds.set(t,e),e.load(),new Promise(t=>{e.onloadeddata=()=>t()})}async loadGameSounds(){const t=Object.values(r.paths).map(this.loadSound.bind(this));await Promise.all(t)}async loadGameAssets(){await this.loadGameSounds(),await this.loadGameSprites()}getSprite(t){return this._sprites.get(t)}getSound(t){return this._sounds.get(t).cloneNode(!0)}playSound(t,e){if(n.GameConfig.soundOn){const o=this.getSound(t);o.volume=e,o.play()}}}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mouse=void 0;const n=o(46),i=o(2),r=o(4);e.Mouse=new class{constructor(){this._buttonStates=[];for(let t=0;t<3;t++)this._buttonStates[t]=new n.ButtonState;this._position=r.Vector2.zero,document.addEventListener("mousemove",t=>this.handleMouseMove(t)),document.addEventListener("mousedown",t=>this.handleMouseDown(t)),document.addEventListener("mouseup",t=>this.handleMouseUp(t))}get position(){return r.Vector2.copy(this._position)}handleMouseMove(t){const e=(t.pageX-i.Canvas2D.offsetX)/i.Canvas2D.scaleX,o=(t.pageY-i.Canvas2D.offsetY)/i.Canvas2D.scaleY;this._position=new r.Vector2(e,o)}handleMouseDown(t){this._buttonStates[t.button].down=!0,this._buttonStates[t.button].pressed=!0}handleMouseUp(t){this._buttonStates[t.button].down=!1}reset(){for(let t=0;t<3;t++)this._buttonStates[t].pressed=!1}isDown(t){return this._buttonStates[t].down}isPressed(t){return this._buttonStates[t].pressed}}},function(t,e,o){var n=o(55),i=o(56),r=o(57),s=o(58),a=o(59);function c(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,o){var n=o(30);t.exports=function(t,e){for(var o=t.length;o--;)if(n(t[o][0],e))return o;return-1}},function(t,e,o){var n=o(16),i=o(67),r=o(68),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):r(t)}},function(t,e,o){var n=o(3)(Object,"create");t.exports=n},function(t,e,o){var n=o(81);t.exports=function(t,e){var o=t.__data__;return n(e)?o["string"==typeof e?"string":"hash"]:o.map}},function(t,e,o){var n=o(34),i=o(35);t.exports=function(t,e,o,r){var s=!o;o||(o={});for(var a=-1,c=e.length;++a<c;){var u=e[a],l=r?r(o[u],t[u],u,o,t):void 0;void 0===l&&(l=t[u]),s?i(o,u,l):n(o,u,l)}return o}},function(t,e,o){var n=o(3)(o(1),"Map");t.exports=n},function(t,e,o){var n=o(1).Symbol;t.exports=n},function(t,e,o){var n=o(36),i=o(95),r=o(40);t.exports=function(t){return r(t)?n(t):i(t)}},function(t,e){var o=Array.isArray;t.exports=o},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,o){(function(t){var n=o(32),i=e&&!e.nodeType&&e,r=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===i&&n.process,a=function(){try{var t=r&&r.require&&r.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,o(19)(t))},function(t,e){var o=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||o)}},function(t,e,o){var n=o(36),i=o(98),r=o(40);t.exports=function(t){return r(t)?n(t,!0):i(t)}},function(t,e,o){var n=o(103),i=o(41),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),n(s(t),(function(e){return r.call(t,e)})))}:i;t.exports=a},function(t,e,o){var n=o(107),i=o(15),r=o(108),s=o(109),a=o(110),c=o(11),u=o(33),l=u(n),h=u(i),p=u(r),d=u(s),f=u(a),_=c;(n&&"[object DataView]"!=_(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=_(new i)||r&&"[object Promise]"!=_(r.resolve())||s&&"[object Set]"!=_(new s)||a&&"[object WeakMap]"!=_(new a))&&(_=function(t){var e=c(t),o="[object Object]"==e?t.constructor:void 0,n=o?u(o):"";if(n)switch(n){case l:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case f:return"[object WeakMap]"}return e}),t.exports=_},function(t,e,o){var n=o(113);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=void 0,function(t){t.white="#BABABA",t.black="#2B2B2B",t.red="#B62A2F",t.yellow="#FECA34"}(e.Color||(e.Color={}))},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AI=e.AITrainer=void 0;const n=o(4),i=o(0),r=o(50),s=o(51),a=o(52),c=o(8),u=i.GameConfig.ai,l=i.GameConfig.stick;class h{constructor(){this._iteration=0,this._finishedSession=!0,this._policy=new s.AIPolicy}get finishedSession(){return this._finishedSession}placeBallInHand(t){let e=n.Vector2.copy(i.GameConfig.cueBallPosition);for(;!t.isValidPosToPlaceCueBall(e);)e.addToX(5);t.placeBallInHand(e)}init(){this._opponents=[],this._currentOpponent=this.createRandomOpponent(),this._bestOpponent=this._currentOpponent,this._iteration=0}createMutation(t){let e=t.power;e+=2*Math.random()*u.shotPowerMutationVariance-u.shotPowerMutationVariance,e=e<u.minShotPower?u.minShotPower:e,e=e>l.maxPower?l.maxPower:e;let o=t.rotation;return t.evaluation>0?o+=1/t.evaluation*(2*Math.random()*Math.PI-Math.PI):o=2*Math.random()*Math.PI-Math.PI,new r.AIOpponent(e,o)}createRandomOpponent(){const t=75*Math.random()+1,e=2*Math.random()*Math.PI;return new r.AIOpponent(t,e)}train(){if(this._iteration===u.trainIterations)return i.GameConfig.soundOn=this._soundOnState,this.playTurn(),void(this._finishedSession=!0);if(this._gameWorld.isBallsMoving)return;this._gameWorld.concludeTurn(),this._currentOpponent.evaluation=this._policy.evaluate(this._gameWorld);const t=new r.AIOpponent(this._currentOpponent.power,this._currentOpponent.rotation,this._currentOpponent.evaluation);this._opponents.push(t),t.evaluation>this._bestOpponent.evaluation&&(this._bestOpponent=t),this._gameWorld=a(this._initialGameWorld),this._currentOpponent=this.buildNewOpponent(),this._iteration++,this.simulate()}buildNewOpponent(){return this._iteration%10==0?this.createRandomOpponent():this.createMutation(this._bestOpponent)}playTurn(){this._initialGameWorld.shootCueBall(this._bestOpponent.power,this._bestOpponent.rotation)}simulate(){this._gameWorld.shootCueBall(this._currentOpponent.power,this._currentOpponent.rotation)}opponentTrainingLoop(){for(;!this._finishedSession;)this.train(),this._gameWorld.update();c.Mouse.reset()}startSession(t){this._soundOnState=i.GameConfig.soundOn,i.GameConfig.soundOn=!1,t.isBallInHand&&this.placeBallInHand(t),this._initialGameWorld=t,this._gameWorld=a(t),this.init(),this._finishedSession=!1,this.simulate(),this.opponentTrainingLoop()}}e.AITrainer=h,e.AI=new h},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuActionType=void 0,function(t){t[t.CONTINUE=0]="CONTINUE",t[t.PVP=1]="PVP",t[t.PVC=2]="PVC",t[t.ToggleSound=3]="ToggleSound",t[t.GoToSubMenu=4]="GoToSubMenu",t[t.GoToPreviousMenu=5]="GoToPreviousMenu"}(e.MenuActionType||(e.MenuActionType={}))},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,o){var n=o(11),i=o(6);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,o){(function(e){var o="object"==typeof e&&e&&e.Object===Object&&e;t.exports=o}).call(this,o(66))},function(t,e){var o=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return o.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,o){var n=o(35),i=o(30),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,o){var s=t[e];r.call(t,e)&&i(s,o)&&(void 0!==o||e in t)||n(t,e,o)}},function(t,e,o){var n=o(86);t.exports=function(t,e,o){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o}},function(t,e,o){var n=o(88),i=o(89),r=o(18),s=o(37),a=o(92),c=o(93),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var o=r(t),l=!o&&i(t),h=!o&&!l&&s(t),p=!o&&!l&&!h&&c(t),d=o||l||h||p,f=d?n(t.length,String):[],_=f.length;for(var v in t)!e&&!u.call(t,v)||d&&("length"==v||h&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,_))||f.push(v);return f}},function(t,e,o){(function(t){var n=o(1),i=o(91),r=e&&!e.nodeType&&e,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===r?n.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;t.exports=c}).call(this,o(19)(t))},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t,e){return function(o){return t(e(o))}}},function(t,e,o){var n=o(31),i=o(38);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},function(t,e){t.exports=function(){return[]}},function(t,e,o){var n=o(43),i=o(44),r=o(24),s=o(41),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,r(t)),t=i(t);return e}:s;t.exports=a},function(t,e){t.exports=function(t,e){for(var o=-1,n=e.length,i=t.length;++o<n;)t[i+o]=e[o];return t}},function(t,e,o){var n=o(39)(Object.getPrototypeOf,Object);t.exports=n},function(t,e,o){var n=o(43),i=o(18);t.exports=function(t,e,o){var r=e(t);return i(t)?r:n(r,o(t))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonState=void 0;e.ButtonState=class{constructor(){this.down=!1,this.pressed=!1}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapRange=void 0;e.mapRange=(t,e,o,n,i)=>{let r=(t-e)*(i-n)/(o-e)+n;return r=r<n?n:r,r=r>i?i:r,r}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Keyboard=void 0;const n=o(46);e.Keyboard=new class{constructor(){this._keyStates=[];for(let t=0;t<256;t++)this._keyStates[t]=new n.ButtonState;document.addEventListener("keyup",t=>this.handleKeyUp(t)),document.addEventListener("keydown",t=>this.handleKeyDown(t))}handleKeyUp(t){this._keyStates[t.keyCode].down=!1}handleKeyDown(t){this._keyStates[t.keyCode].pressed=!0,this._keyStates[t.keyCode].down=!0}reset(){for(let t=0;t<256;t++)this._keyStates[t].pressed=!1}isDown(t){return this._keyStates[t].down}isPressed(t){return this._keyStates[t].pressed}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Game=void 0;const n=o(28),i=o(124),r=o(125),s=o(126),a=o(127),c=o(128),u=o(0),l=o(29),h=o(129),p=o(5),d=o(132),f=o(48),_=o(2),v=o(8),y=u.GameConfig.sprites,m=u.GameConfig.input;class b{constructor(){this._previousMenus=[],this._menu=new h.Menu,this._firstUpdate=!0}initMenuActions(){this._menuActionsMap=new Map,this._menuActionsMap.set(l.MenuActionType.PVP,new c.PVPCommand(this)),this._menuActionsMap.set(l.MenuActionType.PVC,new a.PVCCommand(this)),this._menuActionsMap.set(l.MenuActionType.ToggleSound,new s.ToggleSoundCommand),this._menuActionsMap.set(l.MenuActionType.GoToSubMenu,new r.GoToSubMenuCommand(this)),this._menuActionsMap.set(l.MenuActionType.GoToPreviousMenu,new i.GoToPreviousMenuCommand(this))}initMainMenu(){this._menu.init(this._menuActionsMap,u.GameConfig.mainMenu)}displayLoadingScreen(){return new Promise(t=>{this._isLoading=!0,_.Canvas2D.clear(),_.Canvas2D.drawImage(p.Assets.getSprite(y.paths.controls),u.GameConfig.loadingScreenImagePosition),setTimeout(()=>{this._isLoading=!1,t()},u.GameConfig.loadingScreenTimeout)})}handleInput(){this._inGame&&f.Keyboard.isPressed(m.toggleMenuKey)&&(this._menu.active?this._menu.active=!1:(this.initMainMenu(),this._menu.active=!0))}update(){if(this._isLoading)return;let t=this._firstUpdate;return this._firstUpdate=!1,this.handleInput(),t||(t=this._menu.active?this._menu.update():this._poolGame.update()),f.Keyboard.reset(),v.Mouse.reset(),t}draw(){this._isLoading||n.AI.finishedSession&&(_.Canvas2D.clear(),this._menu.active?this._menu.draw():this._poolGame.draw())}gameLoop(){this.update()&&this.draw(),window.requestAnimationFrame(()=>{this.gameLoop()})}async init(){await p.Assets.loadGameAssets(),this.initMenuActions(),this.initMainMenu(),this._menu.active=!0,this._poolGame=new d.GameWorld,this.gameLoop()}goToSubMenu(t){setTimeout(()=>{this._menu&&(this._menu.active=!1,this._previousMenus.push(this._menu)),this._menu=this._menu.getSubMenu(t),this._menu.active=!0},u.GameConfig.timeoutToLoadSubMenu)}goToPreviousMenu(){this._previousMenus.length>0&&setTimeout(()=>{this._menu.active=!1,this._menu=this._previousMenus.pop(),this._menu.active=!0},u.GameConfig.timeoutToLoadSubMenu)}start(){this.displayLoadingScreen().then(()=>{this._firstUpdate=!0,this._menu.active=!1,this._inGame=!0,this._poolGame=new d.GameWorld,this._poolGame.initMatch()})}}e.Game=b;(new b).init()},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AIOpponent=void 0;e.AIOpponent=class{constructor(t=50,e=0,o=0){this.power=t,this.rotation=e,this.evaluation=o}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AIPolicy=void 0;const n=o(0);e.AIPolicy=class{constructor(){}evaluate(t){let e=1;for(let o=0;o<t.balls.length;o++)for(let i=o+1;i<t.balls.length;i++){let r=t.balls[o],s=t.balls[i];e+=r.position.distFrom(s.position)*n.GameConfig.ai.ballDistanceBonus}return t.isTurnValid?(e+=n.GameConfig.ai.validTurnBonus,e+=n.GameConfig.ai.pocketedBallBonus*t.numOfPocketedBallsOnTurn,t.isGameOver&&(e+=n.GameConfig.ai.gameWonBonus)):(e-=n.GameConfig.ai.invalidTurnPenalty,t.isGameOver&&(e-=n.GameConfig.ai.gameLossPenalty)),e}}},function(t,e,o){var n=o(53);t.exports=function(t){return n(t,5)}},function(t,e,o){var n=o(54),i=o(85),r=o(34),s=o(87),a=o(97),c=o(100),u=o(101),l=o(102),h=o(104),p=o(105),d=o(106),f=o(25),_=o(111),v=o(112),y=o(118),m=o(18),b=o(37),g=o(120),x=o(6),w=o(122),P=o(17),B=o(23),C={};C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C["[object Function]"]=C["[object WeakMap]"]=!1,t.exports=function t(e,o,S,O,M,j){var A,T=1&o,k=2&o,I=4&o;if(S&&(A=M?S(e,O,M,j):S(e)),void 0!==A)return A;if(!x(e))return e;var G=m(e);if(G){if(A=_(e),!T)return u(e,A)}else{var V=f(e),H="[object Function]"==V||"[object GeneratorFunction]"==V;if(b(e))return c(e,T);if("[object Object]"==V||"[object Arguments]"==V||H&&!M){if(A=k||H?{}:y(e),!T)return k?h(e,a(A,e)):l(e,s(A,e))}else{if(!C[V])return M?e:{};A=v(e,V,T)}}j||(j=new n);var D=j.get(e);if(D)return D;j.set(e,A),w(e)?e.forEach((function(n){A.add(t(n,o,S,n,e,j))})):g(e)&&e.forEach((function(n,i){A.set(i,t(n,o,S,i,e,j))}));var E=G?void 0:(I?k?d:p:k?B:P)(e);return i(E||e,(function(n,i){E&&(n=e[i=n]),r(A,i,t(n,o,S,i,e,j))})),A}},function(t,e,o){var n=o(9),i=o(60),r=o(61),s=o(62),a=o(63),c=o(64);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=r,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,o){var n=o(10),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,o=n(e,t);return!(o<0)&&(o==e.length-1?e.pop():i.call(e,o,1),--this.size,!0)}},function(t,e,o){var n=o(10);t.exports=function(t){var e=this.__data__,o=n(e,t);return o<0?void 0:e[o][1]}},function(t,e,o){var n=o(10);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,o){var n=o(10);t.exports=function(t,e){var o=this.__data__,i=n(o,t);return i<0?(++this.size,o.push([t,e])):o[i][1]=e,this}},function(t,e,o){var n=o(9);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,o){var n=o(9),i=o(15),r=o(72);t.exports=function(t,e){var o=this.__data__;if(o instanceof n){var s=o.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++o.size,this;o=this.__data__=new r(s)}return o.set(t,e),this.size=o.size,this}},function(t,e,o){var n=o(31),i=o(69),r=o(6),s=o(33),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,h=u.hasOwnProperty,p=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!r(t)||i(t))&&(n(t)?p:a).test(s(t))}},function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(t,e,o){var n=o(16),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=r.call(t,a),o=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=s.call(t);return n&&(e?t[a]=o:delete t[a]),i}},function(t,e){var o=Object.prototype.toString;t.exports=function(t){return o.call(t)}},function(t,e,o){var n,i=o(70),r=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!r&&r in t}},function(t,e,o){var n=o(1)["__core-js_shared__"];t.exports=n},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,o){var n=o(73),i=o(80),r=o(82),s=o(83),a=o(84);function c(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,o){var n=o(74),i=o(9),r=o(15);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||i),string:new n}}},function(t,e,o){var n=o(75),i=o(76),r=o(77),s=o(78),a=o(79);function c(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,o){var n=o(12);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,o){var n=o(12),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var o=e[t];return"__lodash_hash_undefined__"===o?void 0:o}return i.call(e,t)?e[t]:void 0}},function(t,e,o){var n=o(12),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},function(t,e,o){var n=o(12);t.exports=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,o){var n=o(13);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,o){var n=o(13);t.exports=function(t){return n(this,t).get(t)}},function(t,e,o){var n=o(13);t.exports=function(t){return n(this,t).has(t)}},function(t,e,o){var n=o(13);t.exports=function(t,e){var o=n(this,t),i=o.size;return o.set(t,e),this.size+=o.size==i?0:1,this}},function(t,e){t.exports=function(t,e){for(var o=-1,n=null==t?0:t.length;++o<n&&!1!==e(t[o],o,t););return t}},function(t,e,o){var n=o(3),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,o){var n=o(14),i=o(17);t.exports=function(t,e){return t&&n(e,i(e),t)}},function(t,e){t.exports=function(t,e){for(var o=-1,n=Array(t);++o<t;)n[o]=e(o);return n}},function(t,e,o){var n=o(90),i=o(7),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,o){var n=o(11),i=o(7);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},function(t,e){t.exports=function(){return!1}},function(t,e){var o=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&o.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,o){var n=o(94),i=o(20),r=o(21),s=r&&r.isTypedArray,a=s?i(s):n;t.exports=a},function(t,e,o){var n=o(11),i=o(38),r=o(7),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return r(t)&&i(t.length)&&!!s[n(t)]}},function(t,e,o){var n=o(22),i=o(96),r=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var o in Object(t))r.call(t,o)&&"constructor"!=o&&e.push(o);return e}},function(t,e,o){var n=o(39)(Object.keys,Object);t.exports=n},function(t,e,o){var n=o(14),i=o(23);t.exports=function(t,e){return t&&n(e,i(e),t)}},function(t,e,o){var n=o(6),i=o(22),r=o(99),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return r(t);var e=i(t),o=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&o.push(a);return o}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var o in Object(t))e.push(o);return e}},function(t,e,o){(function(t){var n=o(1),i=e&&!e.nodeType&&e,r=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var o=t.length,n=a?a(o):new t.constructor(o);return t.copy(n),n}}).call(this,o(19)(t))},function(t,e){t.exports=function(t,e){var o=-1,n=t.length;for(e||(e=Array(n));++o<n;)e[o]=t[o];return e}},function(t,e,o){var n=o(14),i=o(24);t.exports=function(t,e){return n(t,i(t),e)}},function(t,e){t.exports=function(t,e){for(var o=-1,n=null==t?0:t.length,i=0,r=[];++o<n;){var s=t[o];e(s,o,t)&&(r[i++]=s)}return r}},function(t,e,o){var n=o(14),i=o(42);t.exports=function(t,e){return n(t,i(t),e)}},function(t,e,o){var n=o(45),i=o(24),r=o(17);t.exports=function(t){return n(t,r,i)}},function(t,e,o){var n=o(45),i=o(42),r=o(23);t.exports=function(t){return n(t,r,i)}},function(t,e,o){var n=o(3)(o(1),"DataView");t.exports=n},function(t,e,o){var n=o(3)(o(1),"Promise");t.exports=n},function(t,e,o){var n=o(3)(o(1),"Set");t.exports=n},function(t,e,o){var n=o(3)(o(1),"WeakMap");t.exports=n},function(t,e){var o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&o.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},function(t,e,o){var n=o(26),i=o(114),r=o(115),s=o(116),a=o(117);t.exports=function(t,e,o){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return i(t,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,o);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return r(t);case"[object Set]":return new c;case"[object Symbol]":return s(t)}}},function(t,e,o){var n=o(1).Uint8Array;t.exports=n},function(t,e,o){var n=o(26);t.exports=function(t,e){var o=e?n(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}},function(t,e){var o=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,o.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,o){var n=o(16),i=n?n.prototype:void 0,r=i?i.valueOf:void 0;t.exports=function(t){return r?Object(r.call(t)):{}}},function(t,e,o){var n=o(26);t.exports=function(t,e){var o=e?n(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}},function(t,e,o){var n=o(119),i=o(44),r=o(22);t.exports=function(t){return"function"!=typeof t.constructor||r(t)?{}:n(i(t))}},function(t,e,o){var n=o(6),i=Object.create,r=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var o=new t;return t.prototype=void 0,o}}();t.exports=r},function(t,e,o){var n=o(121),i=o(20),r=o(21),s=r&&r.isMap,a=s?i(s):n;t.exports=a},function(t,e,o){var n=o(25),i=o(7);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},function(t,e,o){var n=o(123),i=o(20),r=o(21),s=r&&r.isSet,a=s?i(s):n;t.exports=a},function(t,e,o){var n=o(25),i=o(7);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GoToPreviousMenuCommand=void 0;e.GoToPreviousMenuCommand=class{constructor(t){this._game=t}execute(){this._game.goToPreviousMenu()}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GoToSubMenuCommand=void 0;e.GoToSubMenuCommand=class{constructor(t){this._game=t}execute(t){this._game.goToSubMenu(t)}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleSoundCommand=void 0;const n=o(0),i=n.GameConfig.sprites;e.ToggleSoundCommand=class{toggleMuteButtonSprite(){const t=i.paths.muteButton,e=i.paths.muteButtonHovered;i.paths.muteButton=i.paths.muteButtonPressed,i.paths.muteButtonHovered=i.paths.muteButtonPressedHovered,i.paths.muteButtonPressed=t,i.paths.muteButtonPressedHovered=e}execute(){n.GameConfig.soundOn=!n.GameConfig.soundOn,this.toggleMuteButtonSprite()}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PVCCommand=void 0;const n=o(0);e.PVCCommand=class{constructor(t){this._game=t}execute(t){n.GameConfig.ai.playerIndex=Math.floor(2*Math.random()),n.GameConfig.ai.on=!0,n.GameConfig.ai.trainIterations=t,this._game.start()}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PVPCommand=void 0;const n=o(0);e.PVPCommand=class{constructor(t){this._game=t}execute(){n.GameConfig.ai.on=!1,this._game.start()}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=void 0;const n=o(130),i=o(5),r=o(2),s=o(0),a=o(131),c=s.GameConfig.cursor,u=s.GameConfig.sprites;class l{set active(t){this._active=t}get active(){return this._active}init(t,e){this._buttons=e.buttons.map(e=>new n.MenuButton(t.get(e.action),e.value,e.position,e.sprite,e.spriteOnHover)),this._labels=e.labels.map(t=>new a.MenuLabel(t.text,t.position,t.font,t.color,t.alignment)),this._subMenus=e.subMenus.map(e=>{const o=new l;return o.init(t,e),o})}getSubMenu(t){return this._subMenus[t]}update(){let t=!1;return this._active&&this._buttons.forEach(e=>{t||(t=e.update())}),this._subMenus.forEach(e=>{t||(t=e.update())}),t}draw(){this._active&&(r.Canvas2D.changeCursor(c.default),r.Canvas2D.drawImage(i.Assets.getSprite(u.paths.menuBackground)),this._labels.forEach(t=>t.draw()),this._buttons.forEach(t=>t.draw())),this._subMenus.forEach(t=>t.draw())}}e.Menu=l},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuButton=void 0;const n=o(0),i=o(8),r=o(2),s=o(5),a=n.GameConfig.input,c=n.GameConfig.cursor,u=n.GameConfig.sprites;e.MenuButton=class{constructor(t,e,o,n,i){this._command=t,this._value=e,this._position=o,this._spriteKey=n,this._spriteOnHoverKey=i,this._activeSprite=s.Assets.getSprite(u.paths[this._spriteKey])}set hovered(t){this._hovered=t}isInsideButton(t){return t.x>this._position.x&&t.x<this._position.x+this._activeSprite.width&&t.y>this._position.y&&t.y<this._position.y+this._activeSprite.height}handleInput(){const t=this.hovered;this.hovered=this.isInsideButton(i.Mouse.position);let e=t!=this.hovered;return this._activeSprite=this._hovered?s.Assets.getSprite(u.paths[this._spriteOnHoverKey]):s.Assets.getSprite(u.paths[this._spriteKey]),this._hovered&&i.Mouse.isPressed(a.mouseSelectButton)&&(e=!0,r.Canvas2D.changeCursor(c.default),this._command.execute(this._value)),e}update(){return this.handleInput()}draw(){this._hovered&&r.Canvas2D.changeCursor(c.button),r.Canvas2D.drawImage(this._activeSprite,this._position)}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuLabel=void 0;const n=o(2);e.MenuLabel=class{constructor(t,e,o,n,i){this._text=t,this._position=e,this._font=o,this._color=n,this._alignment=i}draw(){n.Canvas2D.drawText(this._text,this._font,this._color,this._position,this._alignment)}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameWorld=void 0;const n=o(28),i=o(47),r=o(133),s=o(134),a=o(135),c=o(27),u=o(4),l=o(0),h=o(5),p=o(2),d=o(136),f=o(8),_=o(137),v=l.GameConfig.physics,y=l.GameConfig.input,m=l.GameConfig.ball,b=l.GameConfig.table,g=l.GameConfig.labels,x=l.GameConfig.matchScore,w=l.GameConfig.ai,P=l.GameConfig.gameSize,B=l.GameConfig.sprites,C=l.GameConfig.sounds;e.GameWorld=class{constructor(){this._players=[new s.Player,new s.Player],this._currentPlayerIndex=0,this.initMatch()}get currentPlayer(){return this._players[this._currentPlayerIndex]}get nextPlayer(){return this._players[(this._currentPlayerIndex+1)%this._players.length]}get balls(){return this._balls}get isBallInHand(){return this._turnState.ballInHand}get isTurnValid(){return this._turnState.isValid}get isGameOver(){return this._referee.isGameOver(this.currentPlayer,this._cueBall,this._8Ball)}get isBallsMoving(){return this._balls.some(t=>t.moving)}get numOfPocketedBallsOnTurn(){return this._turnState.pocketedBalls.length}getBallsByColor(t){return this._balls.filter(e=>e.color===t)}handleInput(){if(n.AI.finishedSession&&f.Mouse.isPressed(y.mouseShootButton))return this.shootCueBall(this._stick.power,this._stick.rotation),!0}isBallPosOutsideTopBorder(t){return t.y-m.diameter/2<=b.cushionWidth}isBallPosOutsideLeftBorder(t){return t.x-m.diameter/2<=b.cushionWidth}isBallPosOutsideRightBorder(t){return t.x+m.diameter/2>=P.x-b.cushionWidth}isBallPosOutsideBottomBorder(t){return t.y+m.diameter/2>=P.y-b.cushionWidth}handleCollisionWithTopCushion(t){t.position=t.position.addY(b.cushionWidth-t.position.y+m.diameter/2),t.velocity=new u.Vector2(t.velocity.x,-t.velocity.y)}handleCollisionWithLeftCushion(t){t.position=t.position.addX(b.cushionWidth-t.position.x+m.diameter/2),t.velocity=new u.Vector2(-t.velocity.x,t.velocity.y)}handleCollisionWithRightCushion(t){t.position=t.position.addX(P.x-b.cushionWidth-t.position.x-m.diameter/2),t.velocity=new u.Vector2(-t.velocity.x,t.velocity.y)}handleCollisionWithBottomCushion(t){t.position=t.position.addY(P.y-b.cushionWidth-t.position.y-m.diameter/2),t.velocity=new u.Vector2(t.velocity.x,-t.velocity.y)}resolveBallCollisionWithCushion(t){let e=!1;this.isBallPosOutsideTopBorder(t.nextPosition)&&(this.handleCollisionWithTopCushion(t),e=!0),this.isBallPosOutsideLeftBorder(t.nextPosition)&&(this.handleCollisionWithLeftCushion(t),e=!0),this.isBallPosOutsideRightBorder(t.nextPosition)&&(this.handleCollisionWithRightCushion(t),e=!0),this.isBallPosOutsideBottomBorder(t.nextPosition)&&(this.handleCollisionWithBottomCushion(t),e=!0),e&&(t.velocity=t.velocity.mult(1-v.collisionLoss))}resolveBallsCollision(t,e){if(!t.visible||!e.visible)return!1;const o=t.position.subtract(e.position),n=o.length;if(n>m.diameter)return!1;const i=o.mult((m.diameter-n)/n);t.position=t.position.add(i.mult(.5)),e.position=e.position.subtract(i.mult(.5));const r=o.mult(1/o.length),s=new u.Vector2(-r.y,r.x),a=r.dot(t.velocity),c=s.dot(t.velocity),l=r.dot(e.velocity),h=s.dot(e.velocity),p=r.mult(l),d=s.mult(c),f=r.mult(a),_=s.mult(h);return t.velocity=p.add(d),e.velocity=f.add(_),t.velocity=t.velocity.mult(1-v.collisionLoss),e.velocity=e.velocity.mult(1-v.collisionLoss),!0}handleCollisions(){for(let t=0;t<this._balls.length;t++){this.resolveBallCollisionWithCushion(this._balls[t]);for(let e=t+1;e<this._balls.length;e++){const o=this._balls[t],n=this._balls[e];if(this.resolveBallsCollision(o,n)){const t=o.velocity.length+n.velocity.length,e=i.mapRange(t,0,m.maxExpectedCollisionForce,0,1);if(h.Assets.playSound(C.paths.ballsCollide,e),!this._turnState.firstCollidedBallColor){const t=o.color===c.Color.white?n.color:o.color;this._turnState.firstCollidedBallColor=t}}}}}isInsidePocket(t){return b.pocketsPositions.some(e=>t.distFrom(e)<=b.pocketRadius)}resolveBallInPocket(t){this.isInsidePocket(t.position)&&t.hide()}isValidPlayerColor(t){return t===c.Color.red||t===c.Color.yellow}handleBallsInPockets(){this._balls.forEach(t=>{this.resolveBallInPocket(t),t.visible||this._turnState.pocketedBalls.includes(t)||(h.Assets.playSound(C.paths.rail,1),!this.currentPlayer.color&&this.isValidPlayerColor(t.color)&&(this.currentPlayer.color=t.color,this.nextPlayer.color=t.color===c.Color.yellow?c.Color.red:c.Color.yellow),this._turnState.pocketedBalls.push(t))})}handleBallInHand(){let t=!1;return f.Mouse.isPressed(y.mousePlaceBallButton)&&this.isValidPosToPlaceCueBall(f.Mouse.position)?(t=!0,this.placeBallInHand(f.Mouse.position)):(this._stick.movable=!1,this._stick.visible=!1,t||(t=this._cueBall.position!=f.Mouse.position),this._cueBall.position=f.Mouse.position),t}handleGameOver(){this._turnState.isValid?this.currentPlayer.overallScore++:this.nextPlayer.overallScore++,this.initMatch()}nextTurn(){const t=!this._turnState.isValid;this.isGameOver?this.handleGameOver():(this._cueBall.visible||this._cueBall.show(u.Vector2.copy(l.GameConfig.cueBallPosition)),(t||0===this._turnState.pocketedBalls.length)&&(this._currentPlayerIndex++,this._currentPlayerIndex=this._currentPlayerIndex%this._players.length),this._stick.show(this._cueBall.position),this._turnState=new _.State,this._turnState.ballInHand=t,this.isAITurn()&&n.AI.startSession(this))}drawCurrentPlayerLabel(){p.Canvas2D.drawText(g.currentPlayer.text+(this._currentPlayerIndex+1),g.currentPlayer.font,g.currentPlayer.color,g.currentPlayer.position,g.currentPlayer.alignment)}drawMatchScores(){for(let t=0;t<this._players.length;t++)for(let e=0;e<this._players[t].matchScore;e++){const o=u.Vector2.copy(x.scoresPositions[t]).addToX(e*x.unitMargin),n=this._players[t].color===c.Color.red?h.Assets.getSprite(B.paths.redScore):h.Assets.getSprite(B.paths.yellowScore);p.Canvas2D.drawImage(n,o)}}drawOverallScores(){for(let t=0;t<this._players.length;t++)p.Canvas2D.drawText(this._players[t].overallScore.toString(),g.overalScores[t].font,g.overalScores[t].color,g.overalScores[t].position,g.overalScores[t].alignment)}isInsideTableBoundaries(t){let e=!this.isInsidePocket(t);return e=e&&!this.isBallPosOutsideTopBorder(t),e=e&&!this.isBallPosOutsideLeftBorder(t),e=e&&!this.isBallPosOutsideRightBorder(t),e=e&&!this.isBallPosOutsideBottomBorder(t),e}isAITurn(){return n.AI.finishedSession&&w.on&&this._currentPlayerIndex===w.playerIndex}initMatch(){const t=l.GameConfig.redBallsPositions.map(t=>new d.Ball(u.Vector2.copy(t),c.Color.yellow)),e=l.GameConfig.yellowBallsPositions.map(t=>new d.Ball(u.Vector2.copy(t),c.Color.red));this._8Ball=new d.Ball(u.Vector2.copy(l.GameConfig.eightBallPosition),c.Color.black),this._cueBall=new d.Ball(u.Vector2.copy(l.GameConfig.cueBallPosition),c.Color.white),this._stick=new a.Stick(u.Vector2.copy(l.GameConfig.cueBallPosition)),this._balls=[...t,...e,this._8Ball,this._cueBall],this._currentPlayerIndex=0,this._players.forEach(t=>{t.matchScore=0,t.color=null}),this._turnState=new _.State,this._referee=new r.Referee,this.isAITurn()&&n.AI.startSession(this)}isValidPosToPlaceCueBall(t){return this._balls.every(e=>e.color===c.Color.white||e.position.distFrom(t)>m.diameter)&&this.isInsideTableBoundaries(t)}placeBallInHand(t){this._cueBall.position=t,this._turnState.ballInHand=!1,this._stick.show(this._cueBall.position)}concludeTurn(){this._turnState.pocketedBalls.forEach(t=>{const e=this._balls.indexOf(t);t.color!=c.Color.white&&this._balls.splice(e,1)}),this.currentPlayer.color&&(this.currentPlayer.matchScore=8-this.getBallsByColor(this.currentPlayer.color).length-this.getBallsByColor(c.Color.black).length),this.nextPlayer.color&&(this.nextPlayer.matchScore=8-this.getBallsByColor(this.nextPlayer.color).length-this.getBallsByColor(c.Color.black).length),this._turnState.isValid=this._referee.isValidTurn(this.currentPlayer,this._turnState)}shootCueBall(t,e){t>0&&(this._stick.rotation=e,this._stick.shoot(),this._cueBall.shoot(t,e),this._stick.movable=!1,setTimeout(()=>this._stick.hide(),l.GameConfig.timeoutToHideStickAfterShot))}update(){let t=!1;return this.isBallInHand?(t||(t=this.handleBallInHand()),t):(this.handleBallsInPockets(),this.handleCollisions(),this.handleInput(),t||(t=this._stick.update()),this._balls.forEach(t=>t.update()),this.isBallsMoving||this._stick.visible||(this.concludeTurn(),this.nextTurn()),t||this.isBallsMoving)}draw(){p.Canvas2D.drawImage(h.Assets.getSprite(B.paths.table)),this.drawCurrentPlayerLabel(),this.drawMatchScores(),this.drawOverallScores(),this._balls.forEach(t=>t.draw()),this._stick.draw()}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Referee=void 0;const n=o(27);e.Referee=class{isValidFirstTouch(t,e,o){return!!e&&(t.color?t.color===e||1===t.matchScore&&o&&e!==n.Color.black||7===t.matchScore&&e===n.Color.black||8===t.matchScore&&e===n.Color.black:e!==n.Color.black)}isValidPocketedBalls(t,e){if(0===e.length)return!0;if(t.color)return 8===t.matchScore?1===e.length&&e[0].color===n.Color.black:e.every(e=>e.color===t.color);{const t=e[0].color;return t!==n.Color.white&&t!==n.Color.black&&e.every(e=>e.color===t)}}isValidTurn(t,e){return this.isValidFirstTouch(t,e.firstCollidedBallColor,e.pocketedBalls.length>0)&&this.isValidPocketedBalls(t,e.pocketedBalls)}isGameOver(t,e,o){return!o.visible||!e.visible&&7===t.matchScore||!e.visible&&8===t.matchScore}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;e.Player=class{constructor(){this.matchScore=0,this.overallScore=0}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stick=void 0;const n=o(48),i=o(8),r=o(0),s=o(5),a=o(2),c=o(4),u=o(47),l=r.GameConfig.input,h=r.GameConfig.stick,p=r.GameConfig.sprites,d=r.GameConfig.sounds;e.Stick=class{constructor(t){this._position=t,this._sprite=s.Assets.getSprite(p.paths.stick),this._rotation=0,this._origin=c.Vector2.copy(h.origin),this._power=0,this._movable=!0,this._visible=!0}get position(){return c.Vector2.copy(this._position)}get rotation(){return this._rotation}get power(){return this._power}set movable(t){this._movable=t}get visible(){return this._visible}set visible(t){this._visible=t}set rotation(t){this._rotation=t}increasePower(){this._power+=h.powerToAddPerFrame,this._origin.addToX(h.movementPerFrame)}decreasePower(){this._power-=h.powerToAddPerFrame,this._origin.addToX(-h.movementPerFrame)}isLessThanMaxPower(){return this._power<h.maxPower}isMoreThanMinPower(){return this._power>=0}updatePower(){if(n.Keyboard.isDown(l.increaseShotPowerKey)&&this.isLessThanMaxPower())this.increasePower();else{if(!n.Keyboard.isDown(l.decreaseShotPowerKey)||!this.isMoreThanMinPower())return!1;this.decreasePower()}return!0}updateRotation(){const t=i.Mouse.position.y-this._position.y,e=i.Mouse.position.x-this._position.x,o=this._rotation;return this._rotation=Math.atan2(t,e),Math.abs(o-this._rotation)>1e-5}hide(){this._power=0,this._visible=!1,this._movable=!1}show(t){this._position=t,this._origin=c.Vector2.copy(h.origin),this._movable=!0,this._visible=!0}shoot(){this._origin=c.Vector2.copy(h.shotOrigin);const t=u.mapRange(this._power,0,h.maxPower,0,1);s.Assets.playSound(d.paths.strike,t)}update(){let t=!1;return this._movable&&(t||(t=this.updateRotation()),t||(t=this.updatePower())),t}draw(){this._visible&&a.Canvas2D.drawImage(this._sprite,this._position,this._rotation,this._origin)}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ball=void 0;const n=o(0),i=o(2),r=o(27),s=o(4),a=o(5),c=n.GameConfig.physics,u=n.GameConfig.sprites,l=n.GameConfig.ball;e.Ball=class{constructor(t,e){this._position=t,this._velocity=s.Vector2.zero,this._moving=!1,this._visible=!0,this._color=e,this.resolveSprite(e)}get position(){return s.Vector2.copy(this._position)}set position(t){this._position=t}get nextPosition(){return this.position.add(this._velocity.mult(1-c.friction))}get velocity(){return s.Vector2.copy(this._velocity)}set velocity(t){this._moving=t.length>0,this._velocity=t}get moving(){return this._moving}get color(){return this._color}get visible(){return this._visible}resolveSprite(t){switch(t){case r.Color.white:this._sprite=a.Assets.getSprite(u.paths.cueBall);break;case r.Color.black:this._sprite=a.Assets.getSprite(u.paths.blackBall);break;case r.Color.red:this._sprite=a.Assets.getSprite(u.paths.redBall);break;case r.Color.yellow:this._sprite=a.Assets.getSprite(u.paths.yellowBall)}}shoot(t,e){this._velocity=new s.Vector2(t*Math.cos(e),t*Math.sin(e)),this._moving=!0}show(t){this._position=t,this._velocity=s.Vector2.zero,this._visible=!0}hide(){this._velocity=s.Vector2.zero,this._moving=!1,this._visible=!1}update(){return this._moving&&(this._velocity.multBy(1-c.friction),this._position.addTo(this._velocity),this._velocity.length<l.minVelocityLength&&(this.velocity=s.Vector2.zero,this._moving=!1)),this._moving}draw(){this._visible&&i.Canvas2D.drawImage(this._sprite,this._position,0,l.origin)}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.State=void 0;e.State=class{constructor(){this.pocketedBalls=[],this.ballInHand=!1,this.isValid=!1}}}]);